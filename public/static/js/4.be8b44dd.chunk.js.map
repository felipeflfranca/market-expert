{"version":3,"sources":["ui-component/money/real.js","ui-component/products/index.js","views/dashboard/ProductsSales.js","views/dashboard/ShoppingCart.js","views/dashboard/index.js"],"names":["Real","children","parseFloat","toLocaleString","style","currency","connect","state","sales","product","addToBagVisible","quantity","dispatch","useState","quantityInTheBag","increaseTheAmountInTheBag","addToBagButton","TextField","id","label","variant","type","InputLabelProps","shrink","minLength","sx","marginRight","maxWidth","value","onChange","e","target","parseInt","Button","endIcon","marginTop","marginBottom","onClick","ADD_PRODUCT_TO_BAG","productQuantityElement","Grid","item","container","alignItems","justifyContent","total","toFixed","spacing","xs","sm","md","lg","columns","xl","Typography","color","code","description","textAlign","ProductsSales","products","setProducts","search","a","requestOptions","method","redirect","fetch","config","host","port","then","response","text","result","data","JSON","parse","catch","error","console","log","MainCard","content","height","CardContent","gridSpacing","pt","Paper","component","p","display","width","border","InputBase","ml","flex","placeholder","inputProps","searchProduct","autoFocus","Divider","m","orientation","IconButton","Array","isArray","map","my","list","bag","Object","keys","key","position","overflowY","overflowX","bottom","float","CardActions","size","disableElevation","disabled","Dashboard","isLoading","setLoading","useEffect","store"],"mappings":"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","file":"static/js/4.be8b44dd.chunk.js","sourcesContent":["import { forwardRef } from 'react';\r\n\r\nconst Real = ({ children }) => <>{children ? parseFloat(children).toLocaleString('pt-br', { style: 'currency', currency: 'BRL' }) : ''}</>;\r\nexport default Real;\r\n","import { Button, Grid, TextField, Typography } from '@mui/material';\r\nimport AddShoppingCartIcon from '@mui/icons-material/AddShoppingCart';\r\nimport { connect } from 'react-redux';\r\nimport { ADD_PRODUCT_TO_BAG } from '../../store/actions/sales';\r\nimport { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Real from '../money/real';\r\n\r\n// ==============================|| PRODUCT ITEM ||============================== //\r\n\r\nconst ProductItem = ({ product, addToBagVisible, quantity, dispatch }) => {\r\n    const [quantityInTheBag, increaseTheAmountInTheBag] = useState(1);\r\n\r\n    const addToBagButton = !addToBagVisible ? (\r\n        <></>\r\n    ) : (\r\n        <>\r\n            <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Quantidade\"\r\n                variant=\"outlined\"\r\n                type=\"number\"\r\n                InputLabelProps={{\r\n                    shrink: true\r\n                }}\r\n                minLength={1}\r\n                sx={{ marginRight: '10px', maxWidth: '100px' }}\r\n                value={quantityInTheBag}\r\n                onChange={(e) => {\r\n                    const value = e.target.value ? parseInt(e.target.value, 10) : 1;\r\n                    increaseTheAmountInTheBag(value < 1 ? 1 : value);\r\n                }}\r\n            />\r\n            <Button\r\n                type=\"button\"\r\n                variant=\"contained\"\r\n                endIcon={<AddShoppingCartIcon sx={{ marginRight: '11px', marginTop: '10px', marginBottom: '10px' }} />}\r\n                onClick={() => {\r\n                    dispatch({ type: ADD_PRODUCT_TO_BAG, product, quantityInTheBag });\r\n                }}\r\n            />\r\n        </>\r\n    );\r\n\r\n    const productQuantityElement =\r\n        !quantity && addToBagVisible ? (\r\n            <></>\r\n        ) : (\r\n            <Grid item>\r\n                <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n                    <Grid item>Quantidade: {quantity}</Grid>\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n\r\n    const total = quantity ? (quantity * product.value).toFixed(2) : product.value;\r\n\r\n    return (\r\n        <Grid container key={product.code} spacing={{ xs: 2, sm: 0, md: 2, lg: 0 }} columns={{ xs: 12, sm: 12, md: 12, lg: 12 }}>\r\n            <Grid item xs={12} sm={12} md={8} lg={8} xl={9}>\r\n                <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n                    <Grid item>\r\n                        <Typography variant={addToBagVisible ? 'h3' : 'subtitle1'} color=\"inherit\">\r\n                            <strong>{product.code}</strong> - {product.description}\r\n                        </Typography>\r\n                        <Typography variant={addToBagVisible ? 'h4' : 'subtitle1'} sx={{ color: 'success.dark' }}>\r\n                            <Real>{total}</Real>\r\n                        </Typography>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item xs={12} sm={12} md={4} lg={4} xl={3} sx={{ textAlign: 'right' }}>\r\n                {addToBagButton}\r\n                {productQuantityElement}\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nProductItem.propTypes = {\r\n    product: PropTypes.any,\r\n    addToBagVisible: PropTypes.bool,\r\n    quantity: PropTypes.number,\r\n    dispatch: PropTypes.any\r\n};\r\n\r\nexport default connect((state) => ({ sales: state.sales }))(ProductItem);\r\n","import { useState } from 'react';\r\n\r\n// project imports\r\nimport config from 'config';\r\n\r\n// material-ui\r\nimport { CardContent, Grid } from '@mui/material';\r\nimport Paper from '@mui/material/Paper';\r\nimport InputBase from '@mui/material/InputBase';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\n\r\n// project imports\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport { gridSpacing } from 'store/constant';\r\nimport ProductItem from '../../ui-component/products';\r\n\r\n// ==============================|| PRODUCT SALES ||============================== //\r\n\r\nconst ProductsSales = () => {\r\n    const [products, setProducts] = useState([]);\r\n\r\n    async function searchProduct(search) {\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            redirect: 'follow'\r\n        };\r\n\r\n        fetch(`http://${config.host}:${config.port}/services?api=product&search=${search}`, requestOptions)\r\n            .then((response) => response.text())\r\n            .then((result) => {\r\n                const data = JSON.parse(result);\r\n                setProducts(data.data);\r\n            })\r\n            .catch((error) => console.log('error', error));\r\n    }\r\n\r\n    const productSearch = (e) => {\r\n        const value = e.target.value;\r\n\r\n        if (value === '') {\r\n            setProducts([]);\r\n        } else {\r\n            searchProduct(value);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <MainCard content={false} sx={{ height: '80vh' }}>\r\n            <CardContent>\r\n                <Grid container spacing={gridSpacing}>\r\n                    <Grid item xs={12} sx={{ pt: '16px !important' }}>\r\n                        <Paper\r\n                            component=\"form\"\r\n                            sx={{\r\n                                p: '2px 4px',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                width: '100%',\r\n                                border: '1px solid #c7c7c7'\r\n                            }}\r\n                        >\r\n                            <InputBase\r\n                                sx={{ ml: 1, flex: 1, width: '100%' }}\r\n                                placeholder=\"Buscar produto\"\r\n                                inputProps={{ 'aria-label': 'Buscar Produto' }}\r\n                                onChange={productSearch}\r\n                                autoFocus\r\n                            />\r\n                            <Divider sx={{ height: 28, m: 0.5 }} orientation=\"vertical\" />\r\n                            <IconButton color=\"primary\" sx={{ p: '10px' }} aria-label=\"directions\" type=\"button\">\r\n                                <ClearIcon />\r\n                            </IconButton>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        {!Array.isArray(products)\r\n                            ? products\r\n                            : products.map((product) => (\r\n                                  <div key={`search-${product.code}`}>\r\n                                      <ProductItem key={product.code} product={product} addToBagVisible quantity={0} />\r\n                                      <Divider sx={{ my: 1.5 }} />\r\n                                  </div>\r\n                              ))}\r\n                    </Grid>\r\n                </Grid>\r\n            </CardContent>\r\n        </MainCard>\r\n    );\r\n};\r\n\r\nexport default ProductsSales;\r\n","import { connect } from 'react-redux';\r\n\r\n// material-ui\r\nimport { Button, CardActions, CardContent, Grid, Typography } from '@mui/material';\r\n\r\n// project imports\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\r\nimport ProductItem from '../../ui-component/products';\r\nimport Divider from '@mui/material/Divider';\r\nimport PropTypes from 'prop-types';\r\nimport Real from '../../ui-component/money/real';\r\n\r\n// ==============================|| SHOP CART ||============================== //\r\n\r\nconst ShoppingCart = ({ products }) => {\r\n    const keys = products.bag ? Object.keys(products.bag) : [];\r\n\r\n    const list = keys.map((key) => {\r\n        const quantity = products.bag[key].quantity;\r\n        const product = products.bag[key].product;\r\n\r\n        return (\r\n            <div key={`search-${product.code}`}>\r\n                <ProductItem key={product.code} product={product} addToBagVisible={false} quantity={quantity} />\r\n                <Divider sx={{ my: 1.5 }} />\r\n            </div>\r\n        );\r\n    });\r\n\r\n    const total = products.total ? parseFloat(products.total).toFixed(2) : 0;\r\n\r\n    return (\r\n        <MainCard content={false} sx={{ height: '80vh', position: 'relative' }}>\r\n            <Grid item xs={12} sx={{ pt: '16px !important', height: '55vh', overflowY: 'scroll', overflowX: 'hidden' }}>\r\n                <CardContent>{list}</CardContent>\r\n            </Grid>\r\n            <Grid item xs={12} sx={{ p: 1.25, pt: 0, justifyContent: 'center', bottom: 60, position: 'absolute', width: '100%' }}>\r\n                <Typography variant=\"h1\" color=\"inherit\">\r\n                    {total ? 'Total:' : ''}\r\n                    <span style={{ float: 'right' }}>\r\n                        <Real>{total}</Real>\r\n                    </span>\r\n                </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <CardActions sx={{ p: 1.25, pt: 0, justifyContent: 'center', bottom: 0, position: 'absolute', width: '100%' }}>\r\n                    <Button variant=\"contained\" size=\"large\" disableElevation sx={{ width: '100%' }} disabled={!total}>\r\n                        FINALIZAR COMPRA\r\n                        <ShoppingCartIcon />\r\n                    </Button>\r\n                </CardActions>\r\n            </Grid>\r\n        </MainCard>\r\n    );\r\n};\r\n\r\nShoppingCart.propTypes = {\r\n    products: PropTypes.any\r\n};\r\n\r\nexport default connect((state) => ({ products: state.sales }))(ShoppingCart);\r\n","import { useEffect, useState } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from '../../store';\r\n\r\n// material-ui\r\nimport { Grid } from '@mui/material';\r\n\r\n// project imports\r\nimport ProductsSales from './ProductsSales';\r\nimport ShoppingCart from './ShoppingCart';\r\nimport { gridSpacing } from 'store/constant';\r\n\r\n// ==============================|| DEFAULT DASHBOARD ||============================== //\r\n\r\nconst Dashboard = () => {\r\n    const [isLoading, setLoading] = useState(true);\r\n    useEffect(() => {\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    return (\r\n        <Grid container spacing={gridSpacing}>\r\n            <Grid item xs={12}>\r\n                <Grid container spacing={gridSpacing}>\r\n                    <Provider store={store}>\r\n                        <Grid item xs={12} md={8}>\r\n                            <ProductsSales isLoading={isLoading} />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={4}>\r\n                            <ShoppingCart isLoading={isLoading} />\r\n                        </Grid>\r\n                    </Provider>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"sourceRoot":""}