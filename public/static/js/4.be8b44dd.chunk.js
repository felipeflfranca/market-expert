(this["webpackJsonpmarket-expert"]=this["webpackJsonpmarket-expert"]||[]).push([[4],{215:function(t,e,n){"use strict";n.r(e);var c=n(15),a=n(0),i=n(25),s=n(94),r=n(172),o=n(198),j=n.n(o),l=n(200),d=n(31),x=n(142),b=n(177),h=n(192),u=n(141),p=n(217),O=n(202),m=n.n(O),g=n(34),f=n(28),v=n(214),y=n(216),w=n(139),F=n(201),k=n.n(F),I=n(93),B=n(1),C=function(t){var e=t.children;return Object(B.jsx)(B.Fragment,{children:e?parseFloat(e).toLocaleString("pt-br",{style:"currency",currency:"BRL"}):""})},L=Object(i.b)((function(t){return{sales:t.sales}}))((function(t){var e=t.product,n=t.addToBagVisible,i=t.quantity,s=t.dispatch,o=Object(a.useState)(1),j=Object(c.a)(o,2),l=j[0],d=j[1],x=n?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(v.a,{id:"outlined-basic",label:"Quantidade",variant:"outlined",type:"number",InputLabelProps:{shrink:!0},minLength:1,sx:{marginRight:"10px",maxWidth:"100px"},value:l,onChange:function(t){var e=t.target.value?parseInt(t.target.value,10):1;d(e<1?1:e)}}),Object(B.jsx)(y.a,{type:"button",variant:"contained",endIcon:Object(B.jsx)(k.a,{sx:{marginRight:"11px",marginTop:"10px",marginBottom:"10px"}}),onClick:function(){s({type:I.a,product:e,quantityInTheBag:l})}})]}):Object(B.jsx)(B.Fragment,{}),b=!i&&n?Object(B.jsx)(B.Fragment,{}):Object(B.jsx)(r.a,{item:!0,children:Object(B.jsx)(r.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:Object(B.jsxs)(r.a,{item:!0,children:["Quantidade: ",i]})})}),h=i?(i*e.value).toFixed(2):e.value;return Object(B.jsxs)(r.a,{container:!0,spacing:{xs:2,sm:0,md:2,lg:0},columns:{xs:12,sm:12,md:12,lg:12},children:[Object(B.jsx)(r.a,{item:!0,xs:12,sm:12,md:8,lg:8,xl:9,children:Object(B.jsx)(r.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:Object(B.jsxs)(r.a,{item:!0,children:[Object(B.jsxs)(w.a,{variant:n?"h3":"subtitle1",color:"inherit",children:[Object(B.jsx)("strong",{children:e.code})," - ",e.description]}),Object(B.jsx)(w.a,{variant:n?"h4":"subtitle1",sx:{color:"success.dark"},children:Object(B.jsx)(C,{children:h})})]})})}),Object(B.jsxs)(r.a,{item:!0,xs:12,sm:12,md:4,lg:4,xl:3,sx:{textAlign:"right"},children:[x,b]})]},e.code)})),T=function(){var t=Object(a.useState)([]),e=Object(c.a)(t,2),n=e[0],i=e[1];function s(){return(s=Object(l.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={method:"GET",redirect:"follow"},fetch("http://".concat(d.a.host,":").concat(d.a.port,"/services?api=product&search=").concat(e),n).then((function(t){return t.text()})).then((function(t){var e=JSON.parse(t);i(e.data)})).catch((function(t){return console.log("error",t)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(B.jsx)(g.a,{content:!1,sx:{height:"80vh"},children:Object(B.jsx)(x.a,{children:Object(B.jsxs)(r.a,{container:!0,spacing:f.b,children:[Object(B.jsx)(r.a,{item:!0,xs:12,sx:{pt:"16px !important"},children:Object(B.jsxs)(b.a,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:"1px solid #c7c7c7"},children:[Object(B.jsx)(h.c,{sx:{ml:1,flex:1,width:"100%"},placeholder:"Buscar produto",inputProps:{"aria-label":"Buscar Produto"},onChange:function(t){var e=t.target.value;""===e?i([]):function(t){s.apply(this,arguments)}(e)},autoFocus:!0}),Object(B.jsx)(u.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(B.jsx)(p.a,{color:"primary",sx:{p:"10px"},"aria-label":"directions",type:"button",children:Object(B.jsx)(m.a,{})})]})}),Object(B.jsx)(r.a,{item:!0,xs:12,children:Array.isArray(n)?n.map((function(t){return Object(B.jsxs)("div",{children:[Object(B.jsx)(L,{product:t,addToBagVisible:!0,quantity:0},t.code),Object(B.jsx)(u.a,{sx:{my:1.5}})]},"search-".concat(t.code))})):n})]})})})},A=n(218),q=n(92),R=n.n(q),S=Object(i.b)((function(t){return{products:t.sales}}))((function(t){var e=t.products,n=(e.bag?Object.keys(e.bag):[]).map((function(t){var n=e.bag[t].quantity,c=e.bag[t].product;return Object(B.jsxs)("div",{children:[Object(B.jsx)(L,{product:c,addToBagVisible:!1,quantity:n},c.code),Object(B.jsx)(u.a,{sx:{my:1.5}})]},"search-".concat(c.code))})),c=e.total?parseFloat(e.total).toFixed(2):0;return Object(B.jsxs)(g.a,{content:!1,sx:{height:"80vh",position:"relative"},children:[Object(B.jsx)(r.a,{item:!0,xs:12,sx:{pt:"16px !important",height:"55vh",overflowY:"scroll",overflowX:"hidden"},children:Object(B.jsx)(x.a,{children:n})}),Object(B.jsx)(r.a,{item:!0,xs:12,sx:{p:1.25,pt:0,justifyContent:"center",bottom:60,position:"absolute",width:"100%"},children:Object(B.jsxs)(w.a,{variant:"h1",color:"inherit",children:[c?"Total:":"",Object(B.jsx)("span",{style:{float:"right"},children:Object(B.jsx)(C,{children:c})})]})}),Object(B.jsx)(r.a,{item:!0,xs:12,children:Object(B.jsx)(A.a,{sx:{p:1.25,pt:0,justifyContent:"center",bottom:0,position:"absolute",width:"100%"},children:Object(B.jsxs)(y.a,{variant:"contained",size:"large",disableElevation:!0,sx:{width:"100%"},disabled:!c,children:["FINALIZAR COMPRA",Object(B.jsx)(R.a,{})]})})})]})}));e.default=function(){var t=Object(a.useState)(!0),e=Object(c.a)(t,2),n=e[0],o=e[1];return Object(a.useEffect)((function(){o(!1)}),[]),Object(B.jsx)(r.a,{container:!0,spacing:f.b,children:Object(B.jsx)(r.a,{item:!0,xs:12,children:Object(B.jsx)(r.a,{container:!0,spacing:f.b,children:Object(B.jsxs)(i.a,{store:s.a,children:[Object(B.jsx)(r.a,{item:!0,xs:12,md:8,children:Object(B.jsx)(T,{isLoading:n})}),Object(B.jsx)(r.a,{item:!0,xs:12,md:4,children:Object(B.jsx)(S,{isLoading:n})})]})})})})}}}]);
//# sourceMappingURL=4.be8b44dd.chunk.js.map